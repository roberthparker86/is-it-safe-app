{"version":3,"sources":["reducers/auth.js","reducers/user.js","store/configureStore.js","components/Button.js","components/H1.js","components/Header.js","components/Form.js","components/Input.js","components/SignUpPage.js","controllers/controllers.js","components/LoginPage.js","components/ItemCard.js","components/CompartmentToggle.js","components/MainContent.js","routers/PublicRoute.js","routers/PrivateRoute.js","components/NotFoundPage.js","components/Secret.js","routers/AppRouter.js","index.js"],"names":["authReducer","state","arguments","length","undefined","isAuthenticated","action","type","userReducer","_objectSpread","user","freezer","refrigerator","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","configureStore","createStore","combineReducers","auth","applyMiddleware","thunk","Button","props","id","onClick","className","href","children","_jsx","H1","Header","dispatch","useDispatch","history","useHistory","authStore","useSelector","store","useMemo","signOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","axios","get","sent","status","replace","console","log","err","stop","apply","_jsxs","Form","method","Input","labelText","inputValue","placeholder","onChange","htmlFor","name","value","SignUpPage","_useState","useState","firstName","email","password","_useState2","_slicedToArray","loginForm","updateLoginForm","handleLoginChange","e","_e$target","target","_defineProperty","submitForm","credentials","toLowerCase","post","concat","push","t0","_x","_x2","_x3","_Fragment","preventDefault","getRemainingTime","start","expire","toReturn","dayjs","diff","sortByTimeLeft","objA","objB","aTimeRemain","startTime","expireTime","bTimeRemain","LoginPage","currentLocation","location","pathname","apiUrl","_yield$axios$post","data","sort","a","b","error","checkToken","_ref2","_callee2","_yield$axios$get","success","_context2","abrupt","useEffect","hasValidToken","_callee3","_yield$axios$get2","_context3","_callee4","_context4","message","Link","to","ItemCard","remainingTime","compartment","handleDelete","userId","foodId","CompartmentToggle","displayedCompartment","setDisplayedCompartment","MainContent","userStore","isClicked","setClick","inputDefaultValue","foodName","startDate","format","expiryDate","_useState3","_useState4","updateInputValue","_useState5","_useState6","isReadyPost","setIsReadyPost","_useState7","_useState8","handleUpdate","_response$data$data","postData","useCallback","_response$data$data2","put","dataToPost","map","item","time","_id","connect","uid","Component","component","rest","_objectWithoutProperties","_excluded","Route","Redirect","NotFoundPage","Secret","createBrowserHistory","AppRouter","Router","Switch","PublicRoute","path","exact","PrivateRoute","jsx","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e9d0d95a.chunk.js","sourcesContent":["const authReducer = (state = { isAuthenticated: false }, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'LOGIN':\r\n            /**\r\n             * Boolean for whether or not Authenticated. ONLY FOR FRONTEND ROUTING.\r\n             * BACKEND requests handled via JWT\r\n             */\r\n            return {\r\n                isAuthenticated: action.isAuthenticated\r\n            };\r\n\r\n        case 'LOGOUT':\r\n            // reset user state to empty object\r\n            return {};\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport default authReducer;","const userReducer = (state = {}, action) => {\r\n\r\n  switch (action.type) {\r\n\r\n      case 'LOGIN':\r\n          return {\r\n            ...action.user\r\n          };\r\n\r\n      case 'LOGOUT':\r\n          // reset user state to empty object\r\n          return {};\r\n\r\n      case 'UPDATE_FOOD':\r\n        return {\r\n          ...state,\r\n          freezer: action.freezer,\r\n          refrigerator: action.refrigerator\r\n        }\r\n\r\n      default:\r\n        return state;\r\n  };\r\n};\r\n\r\nexport default userReducer;","import {\r\n\tcreateStore,\r\n\tcombineReducers,\r\n\tapplyMiddleware,\r\n\tcompose\r\n} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport authReducer from '../reducers/auth';\r\nimport userReducer from '../reducers/user';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n// Store creation\r\nconst configureStore = () => {\r\n\tconst store = createStore(\r\n\t\tcombineReducers({\r\n\t\t\tauth: authReducer,\r\n      user: userReducer\r\n\t\t}),\r\n\t\tcomposeEnhancers(applyMiddleware(thunk))\r\n\t);\r\n\treturn store;\r\n};\r\n\r\nexport default configureStore;","import React from 'react';\r\n\r\nconst Button = (props) => {\r\n\r\n    const { id, type, onClick, className, href, children } = props;\r\n\r\n    return (\r\n        <button id={id} type={type || ''} onClick={onClick || ''} className={className} href={href || ''}>\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;","import React from \"react\";\r\n\r\nconst H1 = (props) => {\r\n\r\n    return (\r\n        <h1 className={props.className || ''}>\r\n            {props.children}\r\n        </h1>\r\n    );\r\n};\r\n\r\nexport default H1;","//import React, { useMemo, useEffect } from 'react';\r\nimport React, { useMemo } from 'react';\r\nimport Button from './Button.js';\r\nimport H1 from './H1.js';\r\nimport axios from 'axios';\r\n//import { useSelector, useDispatch } from 'react-redux';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const authStore = useSelector((store) => store.auth);\r\n  const isAuthenticated = useMemo(() => authStore.isAuthenticated, [authStore]);\r\n\r\n  const signOut = async () => {\r\n    const signOutUrl = 'http://localhost:8080/api/signout';\r\n    const response = await axios.get(signOutUrl);\r\n    \r\n    try {\r\n      if (response.status === 200) {\r\n        dispatch({ type: 'LOGOUT'});\r\n        history.replace('/');\r\n        console.log(response);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }  \r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <div className='container'>\r\n          <H1 className='logo'>\r\n              Is It Safe?\r\n          </H1>\r\n        { isAuthenticated && \r\n          <Button className='signout__btn' onClick={signOut}>\r\n            <i className=\"fas fa-sign-out-alt\"></i>\r\n            <h4>Signout</h4>\r\n          </Button>\r\n        }          \r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst Form = (props) => {\r\n\r\n    const { className, method, action, children } = props;\r\n\r\n    return (\r\n        <form className={className || ''} method={method || ''} action={action || ''}>\r\n            {children}\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Form;","import React from 'react';\r\n\r\nconst Input = props => {\r\n  const { className, labelText, id, inputValue, placeholder, onChange } = props;\r\n\r\n  return (\r\n    <div className={className || ''}>\r\n      <label htmlFor={id || ''}>{labelText}</label>\r\n\r\n      <input\r\n        type={props.type ? props.type : 'text'}\r\n        id={id || ''}\r\n        name={id || ''}\r\n        value={inputValue || ''}\r\n        placeholder={placeholder || ''}\r\n        onChange={onChange}\r\n        ></input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport Header from './Header';\r\nimport Form from './Form';\r\nimport Input from './Input';\r\nimport Button from './Button';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst SignUpPage = props => {\r\n  const history = useHistory();\r\n\r\n  const [ loginForm, updateLoginForm ] = useState({\r\n    firstName: '',\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const handleLoginChange = e => {\r\n    const { name, value } = e.target;\r\n    updateLoginForm(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const apiUrl = 'http://localhost:8080/api/';\r\n  const submitForm = async (firstName, email, password) => {\r\n    const credentials = {\r\n      firstName,\r\n      email: email.toLowerCase(),\r\n      password\r\n    };\r\n\r\n\r\n\r\n    try {\r\n      const response = await axios.post(`${apiUrl}signup`, credentials);\r\n\r\n      if (response) {\r\n        console.log(response);\r\n        history.push('/');\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"container container--login\">\r\n        <h4>\r\n          Please enter a valid email address and password to create a user\r\n          account.\r\n        </h4>\r\n        <Form className=\"login-form\">\r\n          <Input\r\n            className=\"login-form__input\"\r\n            id=\"firstName\"\r\n            inputValue={loginForm.firstName}\r\n            onChange={handleLoginChange}\r\n          />\r\n          \r\n          <Input\r\n            className=\"login-form__input\"\r\n            id=\"email\"\r\n            inputValue={loginForm.email}\r\n            onChange={handleLoginChange}\r\n          />\r\n\r\n          <Input\r\n            className=\"login-form__input\"\r\n            id=\"password\"\r\n            inputValue={loginForm.password}\r\n            onChange={handleLoginChange}\r\n          />\r\n\r\n          <Button\r\n            className=\"login-form__btn\"\r\n            onClick={e => {\r\n              submitForm(loginForm.firstName, loginForm.email, loginForm.password);\r\n              e.preventDefault();\r\n            }}>\r\n            Sign Up\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignUpPage;\r\n","import dayjs from \"dayjs\";\r\n\r\n/**\r\n * \r\n * @param {Number} time - Int representing hours.\r\n * @returns {String} - class name to be used\r\n */\r\nexport const setStatus = (time) => {\r\n\r\n  if (time <= 0) {\r\n    return 'bad';\r\n  }\r\n  if (time < 48) {\r\n    return 'warning';\r\n  } \r\n  return 'good';\r\n};\r\n\r\n/**\r\n * \r\n * @param {String} start - Day.js compatible date\r\n * @param {String} expire - Day.js compatible date\r\n * @returns {Number} - Int representing hours\r\n */\r\nexport const getRemainingTime = (start, expire) => {\r\n  console.log({ start, expire, toReturn: dayjs(expire).diff(start, 'hours') });\r\n  return dayjs(expire).diff(start, 'hour');\r\n};\r\n\r\nexport const sortByTimeLeft = (objA, objB) => {\r\n  const aTimeRemain = getRemainingTime(objA.startTime, objA.expireTime),\r\n    bTimeRemain = getRemainingTime(objB.startTime, objB.expireTime);\r\n\r\n  console.log({ aTimeRemain, bTimeRemain });\r\n  return aTimeRemain - bTimeRemain >= 0 ? 1 : -1;\r\n};","import React, { useMemo, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Header from './Header';\r\nimport Form from './Form';\r\nimport Input from './Input';\r\nimport Button from './Button';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { sortByTimeLeft } from '../controllers/controllers';\r\n\r\nconst LoginPage = (props) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const authStore = useSelector(store => store.auth);\r\n  const isAuthenticated = useMemo(() => authStore.isAuthenticated, [authStore]);  \r\n  const currentLocation = useMemo(() => history.location.pathname, [history]);\r\n\r\n  const [ loginForm, updateLoginForm ] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const handleLoginChange = e => {\r\n    const { name, value } = e.target;\r\n    updateLoginForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const apiUrl = 'http://localhost:8080/api/';\r\n\r\n  const submitForm = async (email, password) => {\r\n\r\n    const credentials = {\r\n      email,\r\n      password\r\n    };\r\n\r\n    try {        \r\n      const { data } = await axios.post(`${apiUrl}signin`, credentials);\r\n\r\n      if (data) {\r\n        console.log(data);\r\n        data.user.freezer.sort((a, b) => sortByTimeLeft(a, b));\r\n        data.user.refrigerator.sort((a, b) => sortByTimeLeft(a, b));\r\n        dispatch({\r\n          type: 'LOGIN',\r\n          isAuthenticated: true,\r\n          user: data.user\r\n        });\r\n        history.push('/dashboard');\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  console.log('Updated');\r\n  \r\n  const checkToken = async () => {\r\n    try {\r\n      const { success } = await axios.get(`${apiUrl}check-token`);\r\n      return success;\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    return false;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const hasValidToken = checkToken();\r\n\r\n    if (hasValidToken) {\r\n      (async function () {\r\n        const { user } = await axios.get(`${apiUrl}user`);\r\n\r\n        if (user) {\r\n          console.log(user);\r\n          user.freezer.sort((a, b) => sortByTimeLeft(a, b));\r\n          user.refrigerator.sort((a, b) => sortByTimeLeft(a, b));\r\n          dispatch({\r\n            type: 'LOGIN',\r\n            isAuthenticated: true,\r\n            user\r\n          });\r\n          history.push('/dashboard');\r\n        } \r\n      })();\r\n    } \r\n    \r\n    if (!hasValidToken) {\r\n      (async function () {\r\n        const response = await axios.get(`${apiUrl}signout`);\r\n        console.log(response.message);\r\n        dispatch({ type: 'LOGOUT' });\r\n        history.replace('/');\r\n      })();\r\n    }\r\n  }, [currentLocation, dispatch, isAuthenticated, history]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n\r\n      <div className='container container--login'>\r\n        <Form className='login-form'>\r\n          <Input className='login-form__input' id='email' inputValue={loginForm.email} onChange={handleLoginChange} />\r\n\r\n          <Input className='login-form__input' id='password' type='password' inputValue={loginForm.password} onChange={handleLoginChange} />\r\n\r\n          <Button className='login-form__btn' onClick={(e) => {\r\n            submitForm(loginForm.email, loginForm.password);\r\n            e.preventDefault();\r\n          }}>\r\n            Login\r\n          </Button>\r\n        </Form>\r\n        <h4>or <Link to='/signup'>Sign Up</Link></h4>\r\n      </div>\r\n    </>        \r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\n\r\nexport const ItemCard = props => {\r\n  const { remainingTime, user, id, status, name, compartment, handleDelete} = props;\r\n\r\n  return (\r\n    <div className=\"grid__column\" key={id} id={id}>\r\n      <div className={'grid__card ' + status}>\r\n        <h2>{remainingTime}</h2>\r\n        <h3 className=\"text-green\">{status}</h3>\r\n        <h4>{name}</h4>\r\n        <button\r\n          className=\"grid__card--close-btn\"\r\n          onClick={() => handleDelete({\r\n            userId: user.id,\r\n            foodId: id,\r\n            compartment\r\n          })}>\r\n          <i className=\"fas fa-times fa-2x\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport const CompartmentToggle = props => (\r\n  <section className=\"compartment-toggle\">\r\n    <button\r\n      id=\"refrigerator\"\r\n      className={\r\n        props.displayedCompartment === 'refrigerator'\r\n          ? 'btn btn-primary active'\r\n          : 'btn btn-primary'\r\n      }\r\n      onClick={e => {\r\n        e.preventDefault();\r\n        props.setDisplayedCompartment(e.target.id);\r\n      }}>\r\n      Refrigerator\r\n    </button>\r\n\r\n    <button\r\n      id=\"freezer\"\r\n      className={\r\n        props.displayedCompartment === 'freezer' ? 'btn btn-primary active' : 'btn btn-primary'\r\n      }\r\n      onClick={e => {\r\n        e.preventDefault();\r\n        props.setDisplayedCompartment(e.target.id);\r\n      }}>\r\n      Freezer\r\n    </button>\r\n  </section>\r\n);\r\n","import React, { \r\n  useCallback, \r\n  useEffect, \r\n  useMemo, \r\n  useState \r\n} from 'react';\r\nimport Form from './Form';\r\nimport Input from './Input';\r\nimport { ItemCard } from './ItemCard';\r\nimport { CompartmentToggle } from './CompartmentToggle';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport {\r\n  setStatus,\r\n  getRemainingTime,\r\n  sortByTimeLeft\r\n} from '../controllers/controllers';\r\n\r\nconst MainContent = props => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  //stores\r\n  const authStore = useSelector(store => store.auth);\r\n  const userStore = useSelector(store => store.user);\r\n  // Memoized variables\r\n  const isAuthenticated = useMemo(() => authStore.isAuthenticated, [authStore]);\r\n  const currentLocation = useMemo(() => history.location.pathname, [history]);\r\n  const user = useMemo(() => userStore, [userStore]);\r\n\r\n  // State\r\n  const [isClicked, setClick] = useState(false);\r\n\r\n  const inputDefaultValue = {\r\n    foodName: '',\r\n    startDate: dayjs().format('YYYY-MM-DD'),\r\n    expiryDate: '',\r\n    compartment: ''\r\n  };\r\n  const [inputValue, updateInputValue] = useState(inputDefaultValue);\r\n\r\n  const [isReadyPost, setIsReadyPost] = useState(false);\r\n  const [displayedCompartment, setDisplayedCompartment] = useState('refrigerator');\r\n\r\n  const { foodName, startDate, expiryDate, compartment } = inputValue;\r\n\r\n  const handleUpdate = e => {\r\n    const { name, value } = e.target;\r\n\r\n    updateInputValue(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleDelete = async data => {\r\n    const response = await axios.post(\r\n      'http://localhost:8080/api/delete-food',\r\n      data\r\n    );\r\n\r\n    try {\r\n      if (response.status === 200) {\r\n        console.log(response.data.data);\r\n        const { freezer, refrigerator } = response.data.data;\r\n\r\n        freezer.sort((a, b) => sortByTimeLeft(a, b));\r\n        refrigerator.sort((a, b) => sortByTimeLeft(a, b));\r\n\r\n        dispatch({\r\n          type: 'UPDATE_FOOD',\r\n          freezer,\r\n          refrigerator\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log({ err });\r\n    }\r\n  };\r\n\r\n  const postData = useCallback(async data => {\r\n    const response = await axios.put(\r\n      'http://localhost:8080/api/add-food',\r\n      data\r\n    );\r\n\r\n    try {\r\n      console.log({ response });\r\n      const { freezer, refrigerator } = response.data.data;\r\n\r\n      freezer.sort((a, b) => sortByTimeLeft(a, b));\r\n      refrigerator.sort((a, b) => sortByTimeLeft(a, b));\r\n\r\n      dispatch({\r\n        type: 'UPDATE_FOOD',\r\n        freezer,\r\n        refrigerator\r\n      });\r\n\r\n      setIsReadyPost(false);\r\n      setClick(false);\r\n      updateInputValue(inputDefaultValue);\r\n    } catch (err) {\r\n      console.log({ err });\r\n      setIsReadyPost(false);\r\n      setClick(false);\r\n      updateInputValue(inputDefaultValue);\r\n    }\r\n  // eslint-disable-next-line\r\n  }, [setIsReadyPost, dispatch]);\r\n\r\n  // Use Effects\r\n  useEffect(() => {\r\n    if (currentLocation !== '/') {\r\n      !isAuthenticated && history.replace('/');\r\n    }\r\n  }, [currentLocation, isAuthenticated, history]);\r\n\r\n  useEffect(() => {\r\n    if (isReadyPost) {\r\n      const dataToPost = {\r\n        id: user.id,\r\n        name: foodName,\r\n        startTime: dayjs(startDate).format(),\r\n        expireTime: dayjs(expiryDate).format(),\r\n        compartment: compartment.toLowerCase()\r\n      };\r\n\r\n      postData(dataToPost);      \r\n    }\r\n  }, [\r\n    isReadyPost,\r\n    inputValue,\r\n    compartment,\r\n    user.id,\r\n    startDate,\r\n    foodName,\r\n    expiryDate,\r\n    postData\r\n  ]);\r\n\r\n  return (\r\n    <div className=\"container container--main-content\">\r\n      <button\r\n        id=\"add\"\r\n        className={isClicked ? 'btn btn-primary' : 'btn btn-primary'}\r\n        onClick={() => setClick(!isClicked)}>\r\n        + Add Food\r\n      </button>\r\n\r\n      <Form className={isClicked ? 'add-food__form show' : 'add-food__form'}>\r\n        <Input\r\n          className=\"add-food__input-container\"\r\n          labelText=\"Food Name\"\r\n          id=\"foodName\"\r\n          name=\"foodName\"\r\n          inputValue={foodName}\r\n          placeholder=\"Food name\"\r\n          onChange={handleUpdate}\r\n        />\r\n\r\n        <Input\r\n          type=\"date\"\r\n          className=\"add-food__input-container\"\r\n          labelText=\"Date Cooked/Opened\"\r\n          id=\"startDate\"\r\n          name=\"startDate\"\r\n          inputValue={startDate}\r\n          placeholder=\"Date food was opened or cooked\"\r\n          onChange={handleUpdate}\r\n        />\r\n\r\n        <Input\r\n          type=\"date\"\r\n          className=\"add-food__input-container\"\r\n          labelText=\"Expiry Date\"\r\n          id=\"expiryDate\"\r\n          name=\"expiryDate\"\r\n          inputValue={expiryDate}\r\n          placeholder=\"Days until food expires\"\r\n          onChange={handleUpdate}\r\n        />\r\n\r\n        <label htmlFor=\"compartment\">Refrigerator or freezer?</label>\r\n\r\n        <select name=\"compartment\" className=\"add-food__select\" id=\"compartment\">\r\n          <option value=\"refrigerator\">Refrigerator</option>\r\n          <option value=\"freezer\">Freezer</option>\r\n        </select>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-secondary\"\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            setIsReadyPost(true);\r\n          }}>\r\n          Add\r\n        </button>\r\n      </Form>\r\n\r\n      <CompartmentToggle displayedCompartment={displayedCompartment} setDisplayedCompartment={setDisplayedCompartment} />\r\n\r\n      <section className=\"grid\">\r\n        {user[displayedCompartment] &&\r\n          user[displayedCompartment].map(item => {\r\n            const remainingTime = getRemainingTime(\r\n              item.startTime,\r\n              item.expireTime\r\n            );\r\n            const status = setStatus(remainingTime);\r\n\r\n            return (\r\n              <ItemCard\r\n                id={item._id}\r\n                key={item._id}\r\n                status={status}\r\n                remainingTime={remainingTime}\r\n                name={item.name}\r\n                handleDelete={handleDelete}\r\n                user={user}\r\n                compartment={displayedCompartment}\r\n              />\r\n            );\r\n          })}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainContent;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PublicRoute = (props) => {\r\n\r\n    const {\r\n        isAuthenticated,\r\n        component: Component,\r\n        ...rest\r\n    } = props;\r\n\r\n    return (\r\n        <Route {...rest} component={(props) => (\r\n\r\n            isAuthenticated ? (<Redirect to=\"/dashboard\" />) : ( <Component {...props} /> )\r\n        )} />\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuthenticated: !!state.auth.uid\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\n\r\nexport const PrivateRoute = (props) => {\r\n\r\n    const {\r\n        isAuthenticated,\r\n        component: Component,\r\n        ...rest\r\n    } = props;\r\n\r\n    return (\r\n        <Route {...rest} component={(props) => (\r\n\r\n            isAuthenticated ? (\r\n\r\n                <div>\r\n                    <Header />\r\n                    <Component {...props} />\r\n                </div>\r\n\r\n            ) : ( <Redirect to='/' /> )\r\n        )} />\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NotFoundPage =() => (\r\n    <div>\r\n        404! Not found. - <Link to='/'>Go home</Link>\r\n    </div>\r\n);\r\n\r\nexport default NotFoundPage;","import React from \"react\";\r\n\r\nconst Secret = (props) => (\r\n  <div>\r\n    <h1>Yo you in the secret sauce meow foo!</h1>\r\n    <p>(In other woulds auth is working)</p>\r\n  </div>\r\n);\r\n\r\nexport default Secret;","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport SignUpPage from '../components/SignUpPage.js';\r\nimport LoginPage from '../components/LoginPage.js';\r\nimport MainContent from '../components/MainContent.js';\r\nimport PublicRoute from './PublicRoute.js';\r\nimport PrivateRoute from './PrivateRoute.js';\r\nimport NotFoundPage from '../components/NotFoundPage.js';\r\nimport { createBrowserHistory } from 'history';\r\nimport Secret from '../components/Secret';\r\n\r\n\r\n\r\n// create history object for managing session data\r\nexport const history = createBrowserHistory();\r\n\r\nconst AppRouter = () => (\r\n  // use history object in Router\r\n  <Router history={history} >\r\n    <>\r\n      <Switch>\r\n        <PublicRoute path='/' component={LoginPage} exact={true} />\r\n        <PublicRoute path='/signup' component={SignUpPage} exact={true} />\r\n        <PrivateRoute path='/dashboard' component={MainContent} exact={true} />\r\n        <PrivateRoute path='/secret' component={Secret} exact={true} />\r\n        <Route component={NotFoundPage} />\r\n      </Switch>\r\n    </>\r\n  </Router>\r\n);\r\n\r\nexport default AppRouter;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from './store/configureStore';\r\nimport AppRouter from './routers/AppRouter';\r\n\r\nconst store = configureStore();\r\nconst jsx = (\r\n  <Provider store={store}>\r\n    <AppRouter />\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(jsx, document.getElementById('root'));\r\n"],"sourceRoot":""}