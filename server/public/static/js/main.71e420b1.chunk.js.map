{"version":3,"sources":["reducers/auth.js","reducers/user.js","store/configureStore.js","components/Button.js","components/H1.js","components/Header.js","components/Form.js","components/Input.js","components/ItemCard.js","components/CompartmentToggle.js","controllers/controllers.js","components/MainContent.js","components/Login.js","App.js","index.js"],"names":["authReducer","state","arguments","length","undefined","isAuthenticated","action","type","userReducer","_objectSpread","user","freezer","refrigerator","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","configureStore","createStore","combineReducers","auth","applyMiddleware","thunk","Button","props","id","onClick","className","href","children","_jsx","H1","Header","dispatch","useDispatch","authStore","useSelector","store","useMemo","signOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","axios","get","sent","status","stop","apply","_jsxs","Form","method","Input","labelText","inputValue","placeholder","onChange","htmlFor","name","value","ItemCard","remainingTime","compartment","handleDelete","userId","foodId","CompartmentToggle","displayedCompartment","e","preventDefault","setDisplayedCompartment","target","getRemainingTime","start","expire","console","log","toReturn","dayjs","diff","sortByTimeLeft","objA","objB","aTimeRemain","startTime","expireTime","bTimeRemain","MainContent","userStore","_useState","useState","_useState2","_slicedToArray","isClicked","setClick","inputDefaultValue","foodName","startDate","format","expiryDate","_useState3","_useState4","updateInputValue","_useState5","_useState6","isReadyPost","setIsReadyPost","_useState7","_useState8","handleUpdate","_e$target","_defineProperty","data","response","_response$data$data","post","sort","a","b","err","_x","postData","useCallback","_ref2","_callee2","_response$data$data2","_context2","put","_x2","useEffect","dataToPost","toLowerCase","map","item","time","_id","LoginPage","email","password","loginForm","updateLoginForm","handleLoginChange","submitForm","credentials","_yield$axios$post","concat","t0","error","_Fragment","App","checkToken","_yield$axios$get","abrupt","success","Login","jsx","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.71e420b1.chunk.js","sourcesContent":["const authReducer = (state = { isAuthenticated: false }, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'LOGIN':\r\n            /**\r\n             * Boolean for whether or not Authenticated. ONLY FOR FRONTEND ROUTING.\r\n             * BACKEND requests handled via JWT\r\n             */\r\n            return {\r\n                isAuthenticated: action.isAuthenticated\r\n            };\r\n\r\n        case 'LOGOUT':\r\n            // reset user state to empty object\r\n            return {};\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport default authReducer;","const userReducer = (state = {}, action) => {\r\n\r\n  switch (action.type) {\r\n\r\n      case 'LOGIN':\r\n          return {\r\n            ...action.user\r\n          };\r\n\r\n      case 'LOGOUT':\r\n          // reset user state to empty object\r\n          return {};\r\n\r\n      case 'UPDATE_FOOD':\r\n        return {\r\n          ...state,\r\n          freezer: action.freezer,\r\n          refrigerator: action.refrigerator\r\n        }\r\n\r\n      default:\r\n        return state;\r\n  };\r\n};\r\n\r\nexport default userReducer;","import {\r\n\tcreateStore,\r\n\tcombineReducers,\r\n\tapplyMiddleware,\r\n\tcompose\r\n} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport authReducer from '../reducers/auth';\r\nimport userReducer from '../reducers/user';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n// Store creation\r\nconst configureStore = () => {\r\n\tconst store = createStore(\r\n\t\tcombineReducers({\r\n\t\t\tauth: authReducer,\r\n      user: userReducer\r\n\t\t}),\r\n\t\tcomposeEnhancers(applyMiddleware(thunk))\r\n\t);\r\n\treturn store;\r\n};\r\n\r\nexport default configureStore;","import React from 'react';\r\n\r\nconst Button = (props) => {\r\n\r\n    const { id, type, onClick, className, href, children } = props;\r\n\r\n    return (\r\n        <button id={id} type={type || ''} onClick={onClick || ''} className={className} href={href || ''}>\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;","import React from \"react\";\r\n\r\nconst H1 = (props) => {\r\n\r\n    return (\r\n        <h1 className={props.className || ''}>\r\n            {props.children}\r\n        </h1>\r\n    );\r\n};\r\n\r\nexport default H1;","//import React, { useMemo, useEffect } from 'react';\r\nimport React, { useMemo } from 'react';\r\nimport Button from './Button.js';\r\nimport H1 from './H1.js';\r\nimport axios from 'axios';\r\n//import { useSelector, useDispatch } from 'react-redux';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst Header = (props) => {\r\n  const dispatch = useDispatch();\r\n  const authStore = useSelector((store) => store.auth);\r\n  const isAuthenticated = useMemo(() => authStore.isAuthenticated, [authStore]);\r\n\r\n  const signOut = async () => {\r\n    const signOutUrl = 'http://localhost:8080/api/signout';\r\n    const response = await axios.get(signOutUrl);\r\n\r\n    if (response.status === 200) {\r\n      dispatch({ type: 'LOGOUT' });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <div className='container'>\r\n          <H1 className='logo'>\r\n              Is It Safe?\r\n          </H1>\r\n        { isAuthenticated && \r\n          <Button className='signout__btn' onClick={signOut}>\r\n            <i className=\"fas fa-sign-out-alt\"></i>\r\n            <h4>Signout</h4>\r\n          </Button>\r\n        }          \r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst Form = (props) => {\r\n\r\n    const { className, method, action, children } = props;\r\n\r\n    return (\r\n        <form className={className || ''} method={method || ''} action={action || ''}>\r\n            {children}\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Form;","import React from 'react';\r\n\r\nconst Input = props => {\r\n  const { className, labelText, id, inputValue, placeholder, onChange } = props;\r\n\r\n  return (\r\n    <div className={className || ''}>\r\n      <label htmlFor={id || ''}>{labelText}</label>\r\n\r\n      <input\r\n        type={props.type ? props.type : 'text'}\r\n        id={id || ''}\r\n        name={id || ''}\r\n        value={inputValue || ''}\r\n        placeholder={placeholder || ''}\r\n        onChange={onChange}\r\n        ></input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React from 'react';\r\n\r\nexport const ItemCard = props => {\r\n  const { remainingTime, user, id, status, name, compartment, handleDelete} = props;\r\n\r\n  return (\r\n    <div className=\"grid__column\" key={id} id={id}>\r\n      <div className={'grid__card ' + status}>\r\n        <h2>{remainingTime}</h2>\r\n        <h3 className=\"text-green\">{status}</h3>\r\n        <h4>{name}</h4>\r\n        <button\r\n          className=\"grid__card--close-btn\"\r\n          onClick={() => handleDelete({\r\n            userId: user.id,\r\n            foodId: id,\r\n            compartment\r\n          })}>\r\n          <i className=\"fas fa-times fa-2x\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport const CompartmentToggle = props => (\r\n  <section className=\"compartment-toggle\">\r\n    <button\r\n      id=\"refrigerator\"\r\n      className={\r\n        props.displayedCompartment === 'refrigerator'\r\n          ? 'btn btn-primary active'\r\n          : 'btn btn-primary'\r\n      }\r\n      onClick={e => {\r\n        e.preventDefault();\r\n        props.setDisplayedCompartment(e.target.id);\r\n      }}>\r\n      Refrigerator\r\n    </button>\r\n\r\n    <button\r\n      id=\"freezer\"\r\n      className={\r\n        props.displayedCompartment === 'freezer' ? 'btn btn-primary active' : 'btn btn-primary'\r\n      }\r\n      onClick={e => {\r\n        e.preventDefault();\r\n        props.setDisplayedCompartment(e.target.id);\r\n      }}>\r\n      Freezer\r\n    </button>\r\n  </section>\r\n);\r\n","import dayjs from \"dayjs\";\r\n\r\n/**\r\n * \r\n * @param {Number} time - Int representing hours.\r\n * @returns {String} - class name to be used\r\n */\r\nexport const setStatus = (time) => {\r\n\r\n  if (time <= 0) {\r\n    return 'bad';\r\n  }\r\n  if (time < 48) {\r\n    return 'warning';\r\n  } \r\n  return 'good';\r\n};\r\n\r\n/**\r\n * \r\n * @param {String} start - Day.js compatible date\r\n * @param {String} expire - Day.js compatible date\r\n * @returns {Number} - Int representing hours\r\n */\r\nexport const getRemainingTime = (start, expire) => {\r\n  console.log({ start, expire, toReturn: dayjs(expire).diff(start, 'hours') });\r\n  return dayjs(expire).diff(start, 'hour');\r\n};\r\n\r\nexport const sortByTimeLeft = (objA, objB) => {\r\n  const aTimeRemain = getRemainingTime(objA.startTime, objA.expireTime),\r\n    bTimeRemain = getRemainingTime(objB.startTime, objB.expireTime);\r\n\r\n  console.log({ aTimeRemain, bTimeRemain });\r\n  return aTimeRemain - bTimeRemain >= 0 ? 1 : -1;\r\n};","import React, { \r\n  useCallback, \r\n  useEffect, \r\n  useMemo, \r\n  useState \r\n} from 'react';\r\nimport Form from './Form';\r\nimport Input from './Input';\r\nimport { ItemCard } from './ItemCard';\r\nimport { CompartmentToggle } from './CompartmentToggle';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport {\r\n  setStatus,\r\n  getRemainingTime,\r\n  sortByTimeLeft\r\n} from '../controllers/controllers';\r\n\r\nconst MainContent = props => {\r\n  const dispatch = useDispatch();\r\n  //stores\r\n  const authStore = useSelector(store => store.auth);\r\n  const userStore = useSelector(store => store.user);\r\n  // Memoized variables\r\n  const isAuthenticated = useMemo(() => authStore.isAuthenticated, [authStore]);\r\n  const user = useMemo(() => userStore, [userStore]);\r\n\r\n  // State\r\n  const [isClicked, setClick] = useState(false);\r\n\r\n  const inputDefaultValue = {\r\n    foodName: '',\r\n    startDate: dayjs().format('YYYY-MM-DD'),\r\n    expiryDate: '',\r\n    compartment: ''\r\n  };\r\n  const [inputValue, updateInputValue] = useState(inputDefaultValue);\r\n\r\n  const [isReadyPost, setIsReadyPost] = useState(false);\r\n  const [displayedCompartment, setDisplayedCompartment] = useState('refrigerator');\r\n\r\n  const { foodName, startDate, expiryDate, compartment } = inputValue;\r\n\r\n  const handleUpdate = e => {\r\n    const { name, value } = e.target;\r\n\r\n    updateInputValue(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleDelete = async data => {\r\n    const response = await axios.post(\r\n      'http://localhost:8080/api/delete-food',\r\n      data\r\n    );\r\n\r\n    try {\r\n      if (response.status === 200) {\r\n        console.log(response.data.data);\r\n        const { freezer, refrigerator } = response.data.data;\r\n\r\n        freezer.sort((a, b) => sortByTimeLeft(a, b));\r\n        refrigerator.sort((a, b) => sortByTimeLeft(a, b));\r\n\r\n        dispatch({\r\n          type: 'UPDATE_FOOD',\r\n          freezer,\r\n          refrigerator\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log({ err });\r\n    }\r\n  };\r\n\r\n  const postData = useCallback(async data => {\r\n    const response = await axios.put(\r\n      'http://localhost:8080/api/add-food',\r\n      data\r\n    );\r\n\r\n    try {\r\n      console.log({ response });\r\n      const { freezer, refrigerator } = response.data.data;\r\n\r\n      freezer.sort((a, b) => sortByTimeLeft(a, b));\r\n      refrigerator.sort((a, b) => sortByTimeLeft(a, b));\r\n\r\n      dispatch({\r\n        type: 'UPDATE_FOOD',\r\n        freezer,\r\n        refrigerator\r\n      });\r\n\r\n      setIsReadyPost(false);\r\n      setClick(false);\r\n      updateInputValue(inputDefaultValue);\r\n    } catch (err) {\r\n      console.log({ err });\r\n      setIsReadyPost(false);\r\n      setClick(false);\r\n      updateInputValue(inputDefaultValue);\r\n    }\r\n  // eslint-disable-next-line\r\n  }, [setIsReadyPost, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (isReadyPost) {\r\n      const dataToPost = {\r\n        id: user.id,\r\n        name: foodName,\r\n        startTime: dayjs(startDate).format(),\r\n        expireTime: dayjs(expiryDate).format(),\r\n        compartment: compartment.toLowerCase()\r\n      };\r\n\r\n      postData(dataToPost);      \r\n    }\r\n  }, [\r\n    isReadyPost,\r\n    inputValue,\r\n    compartment,\r\n    user.id,\r\n    startDate,\r\n    foodName,\r\n    expiryDate,\r\n    postData\r\n  ]);\r\n\r\n  return (\r\n    <div className=\"container container--main-content\">\r\n      <button\r\n        id=\"add\"\r\n        className={isClicked ? 'btn btn-primary' : 'btn btn-primary'}\r\n        onClick={() => setClick(!isClicked)}>\r\n        + Add Food\r\n      </button>\r\n\r\n      <Form className={isClicked ? 'add-food__form show' : 'add-food__form'}>\r\n        <Input\r\n          className=\"add-food__input-container\"\r\n          labelText=\"Food Name\"\r\n          id=\"foodName\"\r\n          name=\"foodName\"\r\n          inputValue={foodName}\r\n          placeholder=\"Food name\"\r\n          onChange={handleUpdate}\r\n        />\r\n\r\n        <Input\r\n          type=\"date\"\r\n          className=\"add-food__input-container\"\r\n          labelText=\"Date Cooked/Opened\"\r\n          id=\"startDate\"\r\n          name=\"startDate\"\r\n          inputValue={startDate}\r\n          placeholder=\"Date food was opened or cooked\"\r\n          onChange={handleUpdate}\r\n        />\r\n\r\n        <Input\r\n          type=\"date\"\r\n          className=\"add-food__input-container\"\r\n          labelText=\"Expiry Date\"\r\n          id=\"expiryDate\"\r\n          name=\"expiryDate\"\r\n          inputValue={expiryDate}\r\n          placeholder=\"Days until food expires\"\r\n          onChange={handleUpdate}\r\n        />\r\n\r\n        <label htmlFor=\"compartment\">Refrigerator or freezer?</label>\r\n\r\n        <select name=\"compartment\" className=\"add-food__select\" id=\"compartment\">\r\n          <option value=\"refrigerator\">Refrigerator</option>\r\n          <option value=\"freezer\">Freezer</option>\r\n        </select>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-secondary\"\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            setIsReadyPost(true);\r\n          }}>\r\n          Add\r\n        </button>\r\n      </Form>\r\n\r\n      <CompartmentToggle displayedCompartment={displayedCompartment} setDisplayedCompartment={setDisplayedCompartment} />\r\n\r\n      <section className=\"grid\">\r\n        {user[displayedCompartment] &&\r\n          user[displayedCompartment].map(item => {\r\n            const remainingTime = getRemainingTime(\r\n              item.startTime,\r\n              item.expireTime\r\n            );\r\n            const status = setStatus(remainingTime);\r\n\r\n            return (\r\n              <ItemCard\r\n                id={item._id}\r\n                key={item._id}\r\n                status={status}\r\n                remainingTime={remainingTime}\r\n                name={item.name}\r\n                handleDelete={handleDelete}\r\n                user={user}\r\n                compartment={displayedCompartment}\r\n              />\r\n            );\r\n          })}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainContent;\r\n","import React, { useMemo, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Form from './Form';\r\nimport Input from './Input';\r\nimport Button from './Button';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { sortByTimeLeft } from '../controllers/controllers';\r\n\r\nconst LoginPage = props => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [ loginForm, updateLoginForm ] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const handleLoginChange = e => {\r\n    const { name, value } = e.target;\r\n    updateLoginForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const apiUrl = 'http://localhost:8080/api/';\r\n\r\n  const submitForm = async (email, password) => {\r\n\r\n    const credentials = {\r\n      email,\r\n      password\r\n    };\r\n\r\n    try {        \r\n      const { data } = await axios.post(`${apiUrl}signin`, credentials),\r\n        { user } = data;\r\n\r\n      if (user) {        \r\n        user.freezer.sort((a, b) => sortByTimeLeft(a, b));\r\n        user.refrigerator.sort((a, b) => sortByTimeLeft(a, b));\r\n        dispatch({\r\n          type: 'LOGIN',\r\n          isAuthenticated: true,\r\n          user\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='container container--login'>\r\n        <Form className='login-form'>\r\n          <Input className='login-form__input' id='email' inputValue={loginForm.email} onChange={handleLoginChange} />\r\n\r\n          <Input className='login-form__input' id='password' type='password' inputValue={loginForm.password} onChange={handleLoginChange} />\r\n\r\n          <Button className='login-form__btn' onClick={(e) => {\r\n            submitForm(loginForm.email, loginForm.password);\r\n            e.preventDefault();\r\n          }}>\r\n            Login\r\n          </Button>\r\n        </Form>\r\n        <h4>or Sign Up</h4>\r\n      </div>\r\n    </>        \r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, { useMemo, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Header from './components/Header.js';\r\nimport MainContent from './components/MainContent';\r\nimport Login from './components/Login';\r\n\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch(),\r\n    authStore = useSelector(store => store.auth),\r\n    isAuthenticated = useMemo(() => authStore.isAuthenticated, [authStore]);\r\n\r\n  const checkToken = async () => {\r\n    const apiUrl = 'http://localhost:8080/api/';\r\n\r\n    const { data } = await axios.get(`${apiUrl}check-token`);\r\n    return data.success;\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const isValidated = await checkToken();\r\n\r\n      if (isValidated && !isAuthenticated) {\r\n        dispatch({\r\n          type: 'LOGIN',\r\n          isAuthenticated: true\r\n        });\r\n      }\r\n    })();\r\n  }, [isAuthenticated, dispatch]);\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header />\r\n      { isAuthenticated ? ( \r\n        <MainContent /> \r\n      ) : (\r\n        <Login /> \r\n      )}\t\t\t\r\n\t\t</>\r\n\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from './store/configureStore';\r\nimport App from './App';\r\n\r\nconst store = configureStore();\r\nconst jsx = (\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(jsx, document.getElementById('root'));\r\n"],"sourceRoot":""}